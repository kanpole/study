#+TITLE: emacs使用

* 快捷键

  | 快捷键         | 用法                             |
  |----------------+----------------------------------|
  |                |                                  |
  |----------------+----------------------------------|
  | C-x C-f/V      | 替换文件                         |
  |----------------+----------------------------------|
  | C-x i          | 当前光标位置插入文件             |
  |----------------+----------------------------------|
  | C-x s/C-s      | 保持所有文件/当前文件            |
  |----------------+----------------------------------|
  | C-x C-w        | 另存为                           |
  |----------------+----------------------------------|
  | C-x C-c        | 退出                             |
  |----------------+----------------------------------|
  | C-h            | 帮助命令                         |
  |----------------+----------------------------------|
  | C-q            | 引用命令                         |
  |----------------+----------------------------------|
  | C-i            | 重绘当前行屏幕到中心             |
  |----------------+----------------------------------|
  | C-x u          | 撤销                             |
  |----------------+----------------------------------|
  | C-d            | 删除光标当前字符                 |
  |----------------+----------------------------------|
  | C-k            | 删除一行                         |
  |----------------+----------------------------------|
  | C-y /M-y       | 黏贴/黏贴更早之前的内容          |
  |----------------+----------------------------------|
  | M/C-w          | 复制/剪切                        |
  |----------------+----------------------------------|
  | C-x C-x        | 文本块标记模式下呼唤光标位置     |
  |----------------+----------------------------------|
  | M-h            | 选择一行                         |
  |----------------+----------------------------------|
  | C-x h          | 选择全部                         |
  |----------------+----------------------------------|
  | C-x C-p        | 标记整个页面                     |
  |----------------+----------------------------------|
  | C-@            | 设置区域选择标记                 |
  |----------------+----------------------------------|
  | C-t            | 交换两个字符的位置               |
  |----------------+----------------------------------|
  | C-x C-t        | 交换两行的位置                   |
  |----------------+----------------------------------|
  | M-u/l/c        | 一个单词改为大写/小写/首字母大写 |
  |----------------+----------------------------------|
  | C-j            | 插入换行                         |
  |----------------+----------------------------------|
  | M-C-\          | 格式化                           |
  |----------------+----------------------------------|
  | M-m            | 移动到当前行的第一个非空白字符上 |
  |----------------+----------------------------------|
  | M-^            | 把当前行合并到一行去             |
  |----------------+----------------------------------|
  | M-;            | 插入注释                         |
  |----------------+----------------------------------|
  | M-j            | 将注释分为两行                   |
  |----------------+----------------------------------|
  | comment-region | 注释选中区域                     |
  |----------------+----------------------------------|
  | kill-comment   | 清楚选中区域的注释               |
  |----------------+----------------------------------|
  |                |                                  |
  |----------------+----------------------------------|


* C模式专用快捷键
| 快捷键    | 用法                              |
|-----------+-----------------------------------|
| M-q       | 如果光标在注释中间,则进行段落重排 |
|-----------+-----------------------------------|
| M-C-a     | 移动到函数头                      |
|-----------+-----------------------------------|
| M-C-e     | 移动到函数尾                      |
|-----------+-----------------------------------|
| M-C-h     | 选中一个函数区域                  |
|-----------+-----------------------------------|
| C-c C-q   | 缩进整个函数                      |
|-----------+-----------------------------------|
| C-c C-u   | 移动到当前预处理器的条件开始位置  |
|-----------+-----------------------------------|
| C-c C-p/n | 移动到上/下一个预处理器条件       |
|-----------+-----------------------------------|
|           |                                   |
|-----------+-----------------------------------|
|           |                                   |


* etags
| 快捷键             | 用法                         |
|--------------------+------------------------------|
| etags *.c          | 建立TAGS文件                 |
|--------------------+------------------------------|
| visit-tags-table   | 将tags放入tags表中           |
|--------------------+------------------------------|
| M-.                | 查找函数                     |
|--------------------+------------------------------|
| M-,                | 查找下一个匹配的函数         |
|--------------------+------------------------------|
| tags-search        | 正则表达式查找函数           |
|--------------------+------------------------------|
| tags-query-replace | 正则查询替换                 |
|--------------------+------------------------------|
| C-u 后面同上       | 只替换完全匹配的正则匹配     |
|--------------------+------------------------------|
| tags-apropos       | 在一个窗口列出所有匹配的标签 |
|--------------------+------------------------------|
| list-tags          | 把函数标签里的全体标签列出来 |
|--------------------+------------------------------|
|                    |                              |
|--------------------+------------------------------|
|                    |                              |


* 文本查找

  | 快捷键      | 说明                                        |
  |-------------+---------------------------------------------|
  | C-s         | 递增查找                                    |
  |-------------+---------------------------------------------|
  | C-s/C-r     | 增量查找中跳转下一个位置                    |
  |-------------+---------------------------------------------|
  | C-s C-w     | 复制当前位置的一个单词查找                  |
  |-------------+---------------------------------------------|
  | C-s C-y/M-y | 根据剪切板中的内容进行查找/调整剪切板的内容 |
  |-------------+---------------------------------------------|
  | C-p/C-n     | 用于调整删除环里的内容                      |
  |-------------+---------------------------------------------|
  | C-s C-s     | 重复刚才的查找操作                          |
  |-------------+---------------------------------------------|
  | C-s ret     | 开始一次非递增查找操作                      |
  |-------------+---------------------------------------------|
  | C-s ret C-w | 单词查找                                    |
  |-------------+---------------------------------------------|
  |             |                                             |
  |-------------+---------------------------------------------|

* 文本查找替换
  | 快捷键           | 说明                       |
  |------------------+----------------------------|
  | replace-string   | 当前位置字符串替换         |
  |------------------+----------------------------|
  | M-%              | 查询替换模式               |
  |------------------+----------------------------|
  | :space或y        | 确定替换                   |
  |------------------+----------------------------|
  | :del/n           | 不替换                     |
  |------------------+----------------------------|
  | :.               | 替换后退出                 |
  |------------------+----------------------------|
  | :,               | 替换不自动移动             |
  |------------------+----------------------------|
  | :!               | 对后面的内容全部进行替换   |
  |------------------+----------------------------|
  | :^               | 返回上一个替换位置         |
  |------------------+----------------------------|
  | :ret/q           | 退出替换                   |
  |------------------+----------------------------|
  | :C-r             | 进入递归编辑状态           |
  |------------------+----------------------------|
  | :C-w             | 删除此处内容并进入递归编辑 |
  |------------------+----------------------------|
  | :M-C-c           | 退出递归编辑状态           |
  |------------------+----------------------------|
  | :C-]             | 退出递归编辑和查询操作     |
  |------------------+----------------------------|
  | recursive-edit   | 进入递归编辑状态           |
  |------------------+----------------------------|
  | case-fold-search | 默认t,控制大小写匹配情况   |
  |------------------+----------------------------|
  | case-replace     | 默认t,控制替换的大小写情况 |
  |------------------+----------------------------|
  |                  |                            |


* 正则查找
  | 快捷键                      | 用法                  |
  |-----------------------------+-----------------------|
  | M-C-s/re-search-forward/ret | 正则查找,向前/非递增  |
  |-----------------------------+-----------------------|
  | M-C-r/ret                   | 正则查找,向后         |
  |-----------------------------+-----------------------|
  | isearch-forward-regexp      | 同第一个,正则递增查找 |
  |-----------------------------+-----------------------|
  | query-replace-regexp        | 查询替换正则          |
  |-----------------------------+-----------------------|
  | replace-regexp              | 全部应用替换,不询问   |
  |-----------------------------+-----------------------|
  |                             |                       |


* 窗口
  | 快捷键          | 用法                   |
  |-----------------+------------------------|
  | compare-windows | 比较两个窗口的不同之处 |
  |-----------------+------------------------|
  | ediff           | 类似于diff             |
  |-----------------+------------------------|
  | 带4参数         | 在新窗口操作           |
  |-----------------+------------------------|
  | 带5参数         | 在新窗格操作           |
  |-----------------+------------------------|
  |                 |                        |
  |-----------------+------------------------|
  |                 |                        |


* 执行shell
  | 快捷键  | 用法                        |
  |---------+-----------------------------|
  | M-!     | 执行shell命令               |
  |---------+-----------------------------|
  | M-或    | 将选中的区域作为shell的输入 |
  |---------+-----------------------------|
  | C-u M-! | 执行shell会将结果放到缓冲区 |
  |---------+-----------------------------|
  |         |                             |
  |---------+-----------------------------|
  |         |                             |



* 书签
  | 快捷键  | 用法                 |
  |---------+----------------------|
  | C-x r m | 光标位置设置一个书签 |
  |---------+----------------------|
  | C-x r b | 移动到指定书签位置   |
  |---------+----------------------|
  | C-x r l | 书签编辑             |
  |---------+----------------------|
  |         |                      |
  |---------+----------------------|
  |         |                      |



* 目录操作
  | 快捷键      | 用法                         |
  |-------------+------------------------------|
  | C-c d       | 打开一个目录进行管理         |
  |-------------+------------------------------|
  | :s          | 切换排序                     |
  |-------------+------------------------------|
  | :v          | 快速查看当前文件             |
  |-------------+------------------------------|
  | ::s         | 进行一次递增查找             |
  |-------------+------------------------------|
  | ::=         | 显示当前的行数               |
  |-------------+------------------------------|
  | :d          | 加删除标记                   |
  |-------------+------------------------------|
  | :u          | 取消标记                     |
  |-------------+------------------------------|
  | :#          | 标记删除带#的文件            |
  |-------------+------------------------------|
  | :~          | 同上,标记删除带~的文件       |
  |-------------+------------------------------|
  | :x          | 执行标操作                   |
  |-------------+------------------------------|
  | :D          | 不做标记,立刻删除            |
  |-------------+------------------------------|
  | :C          | 复制,前可加数字,复制多个文件 |
  |-------------+------------------------------|
  | :R          | 重命名                       |
  |-------------+------------------------------|
  | :Z          | 压缩或解压文件               |
  |-------------+------------------------------|
  | /:=         | 执行对比操作                 |
  |-------------+------------------------------|
  | :M-=        | 执行与备份文件的对比         |
  |-------------+------------------------------|
  | :!          | 在文件上执行shell            |
  |-------------+------------------------------|
  | :g          | 刷新                         |
  |-------------+------------------------------|
  | :m          | 加上待操作标记               |
  |-------------+------------------------------|
  | :M-del      | 清除所有标记                 |
  |-------------+------------------------------|
  | :% m/d/s..  | 使用正则给文件加标记         |
  |-------------+------------------------------|
  | :+          | 创建一个新目录               |
  |-------------+------------------------------|
  | :Q          | 对选中的目标进行查询替换操作 |
  |-------------+------------------------------|
  | :G          | 改变文件权限                 |
  |-------------+------------------------------|
  | :k          | 删除缓冲区的一行,不删除文件  |
  |-------------+------------------------------|
  | :o          | 另一个窗口打开文件           |
  |-------------+------------------------------|
  | :P          | 打印文件                     |
  |-------------+------------------------------|
  | :* /C-u *   | 给可执行文件加上*/取消*标记  |
  |-------------+------------------------------|
  | :.          | 给代编号的文件加上删除标记   |
  |-------------+------------------------------|
  | :/          | 给目录加上*标记              |
  |-------------+------------------------------|
  | :M-}{       | 在标记上移动                 |
  |-------------+------------------------------|
  | :<>         | 在目录上移动                 |
  |-------------+------------------------------|
  | C-u C-x C-d |                              |
  |-------------+------------------------------|
  |             |                              |



* 宏
  | 快捷键              | 用法                           |
  |---------------------+--------------------------------|
  | C-x (/)             | 开始/停止录制宏                |
  |---------------------+--------------------------------|
  | C-x e/e             | 执行宏/重复执行                |
  |---------------------+--------------------------------|
  | C-u C-x (/)         | 向现有宏后追加命令             |
  |---------------------+--------------------------------|
  | name-last-kbd-macro | 给最后一个宏命名               |
  |---------------------+--------------------------------|
  | insert-kbd-macro    | 保存宏到当前位置               |
  |---------------------+--------------------------------|
  | :C-u C-x q          | 暂停宏录制,进入递归编辑状态    |
  |---------------------+--------------------------------|
  | :M-C-c              | 退出递归编辑                   |
  |---------------------+--------------------------------|
  | :C-x q              | 录制的宏在按键位置进入交互模式 |
  |---------------------+--------------------------------|
  | ::y                 | 继续执行,并进入下一个          |
  |---------------------+--------------------------------|
  | ::n                 | 跳过本次                       |
  |---------------------+--------------------------------|
  | ::C-r               | 进入递归编辑                   |
  |---------------------+--------------------------------|
  | ::C-l               | 重绘屏幕                       |
  |---------------------+--------------------------------|
  | ::C-g               | 取消                           |
  |---------------------+--------------------------------|
  | ::ret               | 取消                           |
  |---------------------+--------------------------------|
  |                     |                                |
  |---------------------+--------------------------------|
  |                     |                                |


* 其他命令
  | 快捷键        | 说明                                 |
  |---------------+--------------------------------------|
  | C-x esc esc   | 重复上个命令                         |
  |---------------+--------------------------------------|
  | :M-n/M-p      | 调整命令链                           |
  |---------------+--------------------------------------|
  | C-x C-q       | 改变缓冲区的只读属性                 |
  |---------------+--------------------------------------|
  | C-c C-o       | 清除最后一条shell命令的结果          |
  |---------------+--------------------------------------|
  | C-c C-u       | 删除当前行                           |
  |---------------+--------------------------------------|
  | C-c C-r       | 把输出的内容的第一行放到顶部         |
  |---------------+--------------------------------------|
  | C-c C-e       | 与上面相反                           |
  |---------------+--------------------------------------|
  | C-c C-p/C-n   | 移动的前/后一条命令                  |
  |---------------+--------------------------------------|
  | C-x r k       | 删除一个矩形区域,并保存起来          |
  |---------------+--------------------------------------|
  | C-x r d       | 同上,但不保存                        |
  |---------------+--------------------------------------|
  | C-x r y       | 插入最后一个保存的矩形               |
  |---------------+--------------------------------------|
  | C-x r c       | 清楚矩形内容,且不保存                |
  |---------------+--------------------------------------|
  | C-x r o       | 在矩形区域插入一个空白矩形           |
  |---------------+--------------------------------------|
  | C-h c         | 查看按键组合对应的命令               |
  |---------------+--------------------------------------|
  | C-h k         | 按键组合对应命令的详细介绍           |
  |---------------+--------------------------------------|
  | C-h l         | 最近输入的100字符                    |
  |---------------+--------------------------------------|
  | C-h w         | 命令绑定的按键                       |
  |---------------+--------------------------------------|
  | C-h f         | 函数的作用                           |
  |---------------+--------------------------------------|
  | C-h v         | 变量的含义及取值                     |
  |---------------+--------------------------------------|
  | C-h m         | 查看当前缓冲区模式相关的资料         |
  |---------------+--------------------------------------|
  | C-h b         | 查看缓冲区都有哪些按键绑定           |
  |---------------+--------------------------------------|
  | C-h s         | 查看缓冲区使用的是哪个语法表         |
  |---------------+--------------------------------------|
  | C-h a         | 单词涉及到哪些命令                   |
  |---------------+--------------------------------------|
  | apropos       | 单词涉及到哪些函数和变量             |
  |---------------+--------------------------------------|
  | super-apropos | 哪些函数和变量的文档里提到了这个单词 |
  |---------------+--------------------------------------|
  | C-x u         | 重做                                 |
  |---------------+--------------------------------------|
  |               |                                      |
  |---------------+--------------------------------------|
  |               |                                      |


